<!DOCTYPE html>
{% load static %}
<html lang="zh-CN">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>unfolder后端管理端</title>
        <link type="text/css" href="{% static 'bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
        <link type="text/css" href="{% static 'bootstrap/css/bootstrap-responsive.min.css' %}" rel="stylesheet">
        <link type="text/css" href="{% static 'css/theme.css' %}" rel="stylesheet">
        <link type="text/css" href="{% static 'images/icons/css/font-awesome.css' %}" rel="stylesheet">
        <link type="text/css" href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,600italic,400,600'
              rel='stylesheet'>
</head>
    <body>
        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".navbar-inverse-collapse">
                        <i class="icon-reorder shaded"></i></a><a class="brand" href="/admin/home/">管理端 </a>
                    <div class="nav-collapse collapse navbar-inverse-collapse">
                        <ul class="nav pull-right">
                            <li><a href="#">开发文档 </a></li>
                            <li class="nav-user dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                <img src="/static/{{ request.session.pic}}" class="nav-avatar" />{{  request.session.username }}
                                <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    <li><a href="adminprofile.html">个人信息</a></li>
                                    <li><a href="adminzone.html">工作日志</a></li>
                                    <li class="divider"></li>
                                    <li><a href="/admin/logout/">登出</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <!-- /.nav-collapse -->
                </div>
            </div>
            <!-- /navbar-inner -->
        </div>
        <!-- /navbar -->
        <div class="wrapper">
            <div class="container">
                <div class="row">
                    <div class="span3">
                        <div class="sidebar">
                            <ul class="widget widget-menu unstyled">
                                <li class="active"><a href="{% url 'home' %}"><i class="menu-icon icon-home"></i>首页
                                </a></li>
                                <li><a class="collapsed" data-toggle="collapse" href="#userPages"><i class="menu-icon icon-user">
                                </i><i class="icon-chevron-down pull-right"></i><i class="icon-chevron-up pull-right">
                                </i>个人中心 </a>
                                    <ul id="userPages" class="collapse unstyled">
                                        <li><a href="{% url 'adminprofile' %}"><i class="icon-inbox"></i>个人信息</a></li>
                                        <li><a href="{% url 'adminzone' %}"><i class="icon-inbox"></i>工作日志 <b class="label green pull-right">
                                            1</b></a></li>

                                    </ul>
                                </li>
                                <li><a class="collapsed" data-toggle="collapse" href="#managePages"><i class="menu-icon icon-group">
                                </i><i class="icon-chevron-down pull-right"></i><i class="icon-chevron-up pull-right">
                                </i>账号管理 </a>
                                    <ul id="managePages" class="collapse unstyled">
                                        <li><a href="{% url 'merchantlist' %}"><i class="icon-inbox"></i>商家用户管理<b class="label green pull-right">
                                            1</b></a></li>
                                        <li><a href="{% url 'userlist' %}"><i class="icon-inbox"></i>用户管理 <b class="label green pull-right">
                                            1</b></a></li>
                                        <li><a href="{% url 'adminuserlist' %}"><i class="icon-inbox"></i>管理员账号管理</a></li>
                                    </ul>
                                </li>
                                <li><a class="collapsed" data-toggle="collapse" href="#UIPages"><i class="menu-icon icon-eye-open">
                                </i><i class="icon-chevron-down pull-right"></i><i class="icon-chevron-up pull-right">
                                </i>界面编辑 </a>
                                    <ul id="UIPages" class="collapse unstyled">
                                        <li><a href="{% url 'indexedit' %}"><i class="icon-inbox"></i>前端界面管理<b class="label green pull-right">
                                            1</b></a></li>
                                        <li><a href="#"><i class="icon-inbox"></i>用户界面管理 <b class="label green pull-right">
                                            1</b></a></li>
                                        <li><a href="#"><i class="icon-inbox"></i>手机端界面管理</a></li>
                                    </ul>
                                </li>
                                <li><a class="collapsed" data-toggle="collapse" href="#messagesPages"><i class="menu-icon icon-envelope">
                                </i><i class="icon-chevron-down pull-right"></i><i class="icon-chevron-up pull-right">
                                </i>消息 </a>
                                    <ul id="messagesPages" class="collapse unstyled">
                                        <li><a href="adminprofile.html"><i class="icon-inbox"></i>收件箱<b class="label green pull-right">
                                            1</b></a></li>
                                        <li><a href="other-user-listing.html"><i class="icon-inbox"></i>未读消息 </a></li>
                                    </ul>
                                </li>
                            </ul>
                            <!--/.widget-nav-->
                            <ul class="widget widget-menu unstyled">
                                <li><a href="/admin/logout/"><i class="menu-icon icon-signout"></i>Logout </a></li>
                            </ul>
                        </div>
                        <!--/.sidebar-->
                    </div>
                    <!--/.span3-->
                    <div class="span9">
                        <div class="content">
                            <div class="btn-controls">
                                <div class="btn-box-row row-fluid">
                                    <div class="span8">
                                        <div class="module">
                                            <div class="module-head">账户信息</div>
                                            <div class="module-body"><h4>{{  request.session.username }} <span style="font-size: 5px;font-weight: normal">{{ request.session.post }}</span></h4><h4>注册日期：{{ request.session.data }}</h4></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="btn-box-row row-fluid">
                                    <a href="#" class="btn-box big span4"><i class=" icon-briefcase"></i><b>{{ num }}</b>
                                        <p class="text-muted">
                                            商家用户总数</p>
                                    </a><a href="#" class="btn-box big span4"><i class="icon-user"></i><b>0</b>
                                        <p class="text-muted">
                                            顾客用户总数</p>
                                    </a><a href="#" class="btn-box big span4"><i class="icon-group"></i><b>0</b>
                                        <p class="text-muted">
                                            网站总浏览量</p>
                                    </a>
                                </div>
                            </div>
                            <!--/#btn-controls-->
                            <div class="module">
                                <div class="module-head">
                                    <h3>
                                        Profit Chart</h3>
                                </div>
                                <div class="module-body">
                                    <div class="chart inline-legend grid">
                                            <div id="main2" style="height:400px;"></div>
                                        </div>
                                    </div>
                                </div>
                            <div class="module">
                                <div class="module-head">
                                    <h3>
                                        Profit Chart</h3>
                                </div>
                                <div class="module-body">
                                    <div class="chart inline-legend grid">
                                            <div id="main1" style="height:400px;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--/.module-->
                            <div class="module hide">
                                <div class="module-head">
                                    <h3>
                                        Adjust Budget Range</h3>
                                </div>
                                <div class="module-body">
                                    <div class="form-inline clearfix">
                                        <a href="#" class="btn pull-right">Update</a>
                                        <label for="amount">
                                            Price range:</label>
                                        &nbsp;
                                        <input type="text" id="amount" class="input-" />
                                    </div>
                                    <hr />
                                    <div class="slider-range">
                                    </div>
                                </div>
                            </div>

                            <!--/.module-->
                        </div>
                        <!--/.content-->
                    </div>
                    <!--/.span9-->
                </div>
            </div>
            <!--/.container-->
        <!--/.wrapper-->
        <!--<div class="footer">-->
            <!--<div class="container">-->
                <!--<b class="copyright">&copy; 2014 Edmin - EGrappler </b>All rights reserved. More Templates <a href="http://www.cssmoban.com/" target="_blank" title="模板之家">模板之家</a> - Collect from <a href="http://www.cssmoban.com/" title="网页模板" target="_blank">网页模板</a>-->
            <!--</div>-->
        <!--</div>-->
        <script src="{% static 'scripts/jquery-1.9.1.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'scripts/jquery-ui-1.10.1.custom.min.js' %}" type="javascript"></script>
        <script src="{% static 'scripts/flot/echarts.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'bootstrap/js/bootstrap.min.js' %}" type="text/javascript"></script>
    <script src="{%  static 'scripts/datatables/jquery.dataTables.js' %}" type="text/javascript"></script>
    <script>
        $(document).ready(function () {
            var times=[];
            var views=[];
            var merchantviews=[];
            var demoviews=[];
            var adminviews=[];
            {% for line in views %}
                times.push('{{ line.time }}');
                views.push('{{ line.view }}');
                merchantviews.push('{{ line.merchantview }}');
                demoviews.push('{{ line.demoview }}');
                adminviews.push('{{ line.adminview }}');
            {% endfor %}
            console.log(times);
            console.log(views);
            var myChart = echarts.init(document.getElementById('main1'));
        // 指定图表的配置项和数据
            var option = {
                title: {
                    text: '浏览量'
                },
                tooltip : {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'cross',
                        label: {
                            backgroundColor: '#6a7985'
                        }
                    }
                },
                legend: {
                    data:['主页面','商家页面','Demo页面','管理端页面']
                },
                toolbox: {
                    feature: {
                        saveAsImage: {}
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis : [
                    {
                        type : 'category',
                        boundaryGap : false,
                        data : times
                    }
                ],
                yAxis : [
                    {
                        type : 'value'
                    }
                ],
                series : [
                    {
                        name:'主页面',
                        type:'line',
                        stack: '总量',
                        areaStyle: {},
                        data:views
                    },
                    {
                        name:'商家页面',
                        type:'line',
                        stack: '总量',
                        areaStyle: {},
                        data:merchantviews
                    },
                    {
                        name:'Demo页面',
                        type:'line',
                        stack: '总量',
                        areaStyle: {},
                        data:demoviews
                    },
                    {
                        name:'管理端页面',
                        type:'line',
                        stack: '总量',
                        areaStyle: {normal: {}},
                        data:adminviews
                    }

                ]
            };

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
          var myChart = echarts.init(document.getElementById('main1'));
        // 指定图表的配置项和数据
            var option = {
                title: {
                    text: '浏览量'
                },
                tooltip : {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'cross',
                        label: {
                            backgroundColor: '#6a7985'
                        }
                    }
                },
                legend: {
                    data:['主页面','商家页面','Demo页面','管理端页面']
                },
                toolbox: {
                    feature: {
                        saveAsImage: {}
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis : [
                    {
                        type : 'category',
                        boundaryGap : false,
                        data : times
                    }
                ],
                yAxis : [
                    {
                        type : 'value'
                    }
                ],
                series : [
                    {
                        name:'主页面',
                        type:'line',
                        stack: '总量',
                        areaStyle: {},
                        data:views
                    },
                    {
                        name:'商家页面',
                        type:'line',
                        stack: '总量',
                        areaStyle: {},
                        data:merchantviews
                    },
                    {
                        name:'Demo页面',
                        type:'line',
                        stack: '总量',
                        areaStyle: {},
                        data:demoviews
                    },
                    {
                        name:'管理端页面',
                        type:'line',
                        stack: '总量',
                        areaStyle: {normal: {}},
                        data:adminviews
                    }

                ]
            };
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);

        // '嵌套环形图'

            var myChart1 = echarts.init(document.getElementById('main2'));
        //指定图表的配置项和数据
            var option1 = {
    tooltip: {
        trigger: 'shop',
        formatter: "{a} <br/>{b}: {c} ({d}%)"
    },
    legend: {
        orient: 'vertical',
        x: 'left',
        data:['静安区','黄浦区','浦东新区','普陀区','虹口区','美食店','娱乐店','体验店','杂物店','书店','服装店','其他']
    },
    series: [
        {
            name:'商家种类',
            type:'pie',
            selectedMode: 'single',
            radius: [0, '30%'],

            label: {
                normal: {
                    position: 'inner'
                }
            },
            labelLine: {
                normal: {
                    show: false
                }
            },
            data:[
                {value:{{ district1.x }}, name:'静安区',selected:true},
                {value:{{ district1.y }}, name:'黄浦区'},
                {value:{{ district1.z }}, name:'普陀区'},
                {value:{{ district1.q }}, name:'虹口区'},
                {value:{{ district1.l }}, name:'浦东新区'}
            ]
        },
        {
            name:'商家种类',
            type:'pie',
            radius: ['40%', '55%'],
            label: {
                normal: {
                    formatter: '{a|{a}}{abg|}\n{hr|}\n  {b|{b}：}{c}  {per|{d}%}  ',
                    backgroundColor: '#eee',
                    borderColor: '#aaa',
                    borderWidth: 1,
                    borderRadius: 4,
                    // shadowBlur:3,
                    // shadowOffsetX: 2,
                    // shadowOffsetY: 2,
                    // shadowColor: '#999',
                    // padding: [0, 7],
                    rich: {
                        a: {
                            color: '#999',
                            lineHeight: 22,
                            align: 'center'
                        },
                        // abg: {
                        //     backgroundColor: '#333',
                        //     width: '100%',
                        //     align: 'right',
                        //     height: 22,
                        //     borderRadius: [4, 4, 0, 0]
                        // },
                        hr: {
                            borderColor: '#aaa',
                            width: '100%',
                            borderWidth: 0.5,
                            height: 0
                        },
                        b: {
                            fontSize: 16,
                            lineHeight: 33
                        },
                        per: {
                            color: '#eee',
                            backgroundColor: '#334455',
                            padding: [2, 4],
                            borderRadius: 2
                        }
                    }
                }
            },
            data:[
                {value:{{ district2.a }}, name:'体验店'},
                {value:{{ district2.b }}, name:'书店'},
                {value:{{ district2.c }}, name:'服装店'},
                {value:{{ district2.d }}, name:'杂物店'},
                {value:{{ district2.e }}, name:'美食店'},
                {value:{{ district2.f }}, name:'娱乐店'},
                {value:{{ district2.g }}, name:'其他'}
            ]
        }
    ]
};
        //使用刚指定的配置项和数据显示图表。
        myChart1.setOption(option1);

        })
    </script>



    </body>
